<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ¸å»ºã¦å†…è¦§ä¼šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            color: #333;
            padding: 30px 20px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 1.8em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.3);
            border-radius: 25px;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            height: 100%;
            border-radius: 25px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            margin-top: 10px;
            font-weight: 600;
            color: #555;
        }
        
        .sync-controls {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            margin: 20px 0;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .sync-controls h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .sync-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            margin: 5px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            min-height: 44px;
        }
        
        .sync-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .import-button {
            background: linear-gradient(135deg, #28a745, #20c997);
        }
        
        .export-button {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
        }
        
        .sync-textarea {
            width: 100%;
            height: 120px;
            margin: 15px 0;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8em;
            resize: vertical;
        }
        
        .category {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .category-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            font-size: 1.2em;
            font-weight: 700;
        }
        
        .checklist-item {
            padding: 18px 20px;
            border-bottom: 1px solid #f8f9fa;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: background 0.2s;
            position: relative;
        }
        
        .checklist-item:hover {
            background: #f8f9fa;
        }
        
        .checklist-item:last-child {
            border-bottom: none;
        }
        
        .priority-high { border-left: 5px solid #e74c3c; }
        .priority-medium { border-left: 5px solid #f39c12; }
        .priority-low { border-left: 5px solid #27ae60; }
        
        .checkbox-wrapper {
            position: relative;
            min-width: 24px;
        }
        
        .checkbox-wrapper input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            transform: scale(1.2);
        }
        
        .item-content {
            flex: 1;
        }
        
        .item-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 1em;
        }
        
        .item-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .priority-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .badge-high { background: #fee2e2; color: #dc2626; }
        .badge-medium { background: #fef3c7; color: #d97706; }
        .badge-low { background: #dcfce7; color: #16a34a; }
        
        .delete-button {
            background: #dc3545;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: background 0.2s;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delete-button:hover {
            background: #c82333;
        }
        
        .add-custom {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 20px;
            font-size: 0.9em;
            font-weight: 600;
            transition: transform 0.2s;
            min-height: 44px;
            width: calc(100% - 40px);
        }
        
        .add-custom:hover {
            transform: translateY(-2px);
        }
        
        .custom-input {
            margin: 15px 20px;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            width: calc(100% - 40px);
            font-size: 1em;
            min-height: 44px;
        }
        
        .floating-stats {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            font-size: 0.9em;
            font-weight: 600;
            z-index: 1000;
        }
        
        .import-area {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        /* ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œ */
        @media (max-width: 768px) {
            .container { 
                padding: 15px 10px; 
            }
            
            .header { 
                padding: 25px 20px;
                margin-bottom: 20px;
            }
            
            .header h1 { 
                font-size: 1.5em; 
            }
            
            .sync-controls {
                padding: 20px 15px;
            }
            
            .sync-button {
                width: 100%;
                margin: 8px 0;
                padding: 15px;
                font-size: 1em;
            }
            
            .checklist-item {
                padding: 15px;
                gap: 12px;
            }
            
            .item-title {
                font-size: 0.95em;
            }
            
            .item-description {
                font-size: 0.85em;
            }
            
            .floating-stats { 
                bottom: 15px; 
                right: 15px; 
                padding: 12px 16px;
                font-size: 0.8em;
            }
            
            .delete-button {
                width: 28px;
                height: 28px;
                font-size: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px 5px;
            }
            
            .checklist-item {
                padding: 12px 10px;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .checkbox-wrapper {
                order: 1;
            }
            
            .item-content {
                order: 2;
                flex: 1 1 100%;
            }
            
            .priority-badge {
                order: 3;
            }
            
            .delete-button {
                order: 4;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ  æˆ¸å»ºã¦å†…è¦§ä¼šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h1>
            <p>ä¿®æ­£ç‰ˆ - å‰Šé™¤æ©Ÿèƒ½ä»˜ã</p>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
                <div class="progress-text" id="progressText">0% å®Œäº†</div>
            </div>
        </div>

        <div class="sync-controls">
            <h3>ğŸ“¤ ãƒ‡ãƒ¼ã‚¿å…±æœ‰æ©Ÿèƒ½</h3>
            <button class="sync-button export-button" onclick="exportData()">ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼</button>
            <button class="sync-button import-button" onclick="toggleImportArea()">ğŸ“¥ ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿</button>
            <button class="sync-button" onclick="generateShareURL()">ğŸ”— å…±æœ‰URLã‚’ç”Ÿæˆ</button>
            
            <div id="importArea" class="import-area" style="display:none;">
                <h4>ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿</h4>
                <textarea class="sync-textarea" id="importData" placeholder="ä»–ã®ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„..."></textarea>
                <button class="sync-button import-button" onclick="importData()">èª­ã¿è¾¼ã¿å®Ÿè¡Œ</button>
            </div>
        </div>

        <!-- 1. å›³é¢ã¨ã®æ•´åˆç¢ºèª -->
        <div class="category">
            <div class="category-header">ğŸ”´ 1. å›³é¢ã¨ã®æ•´åˆç¢ºèª</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">é–“å–ã‚Šãƒ»éƒ¨å±‹é…ç½®ã®ç¢ºèª</div>
                    <div class="item-description">å„éƒ¨å±‹ã®ä½ç½®ã€å¯¸æ³•ã€æ‰‰ã®ä½ç½®ã¨é–‹ãæ–¹å‘ãŒå›³é¢é€šã‚Šã‹</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">çª“ãƒ»ã‚µãƒƒã‚·ã®ç¨®é¡ãƒ»ä½ç½®</div>
                    <div class="item-description">çª“ã®ç¨®é¡ï¼ˆå¼•ãé•ã„ã€ä¸Šã’ä¸‹ã’ç­‰ï¼‰ã€ã‚µã‚¤ã‚ºã€å–ä»˜é«˜ã•ã€ã‚¬ãƒ©ã‚¹ç¨®é¡</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ç…§æ˜å™¨å…·ã®ä½ç½®ãƒ»æ•°</div>
                    <div class="item-description">ãƒ€ã‚¦ãƒ³ãƒ©ã‚¤ãƒˆã€ã‚·ãƒ¼ãƒªãƒ³ã‚°ãƒ©ã‚¤ãƒˆã®ä½ç½®ã¨æ•°é‡ã€ã‚¹ã‚¤ãƒƒãƒã¨ã®å¯¾å¿œ</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ã‚³ãƒ³ã‚»ãƒ³ãƒˆãƒ»ã‚¹ã‚¤ãƒƒãƒã®ä½ç½®ãƒ»æ•°</div>
                    <div class="item-description">é›»æ°—å›³é¢é€šã‚Šã®é…ç½®ã€é«˜ã•ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ»TVå›ç·šã®ä½ç½®</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">åç´ã®ä»•æ§˜ãƒ»å®¹é‡</div>
                    <div class="item-description">ã‚¯ãƒ­ãƒ¼ã‚¼ãƒƒãƒˆã€æŠ¼å…¥ã‚Œã®ã‚µã‚¤ã‚ºã€æ£šæ¿ãƒ»ãƒãƒ³ã‚¬ãƒ¼ãƒ‘ã‚¤ãƒ—ã®ä½ç½®</div>
                </div>
                <span class="priority-badge badge-low">ç¢ºèªæ¨å¥¨</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 2. æ§‹é€ ãƒ»å®‰å…¨æ€§ -->
        <div class="category">
            <div class="category-header">ğŸ”´ 2. æ§‹é€ ãƒ»å®‰å…¨æ€§ï¼ˆç›®è¦–ç¢ºèªç¯„å›²ï¼‰</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">åŸºç¤ã®ã²ã³å‰²ã‚Œç¢ºèª</div>
                    <div class="item-description">åŸºç¤ç«‹ä¸Šã‚Šéƒ¨åˆ†ã®0.5mmä»¥ä¸Šã®ã²ã³å‰²ã‚Œï¼ˆã‚·ãƒ£ãƒ¼ãƒ—ãƒšãƒ³ã‚·ãƒ«èŠ¯ã§æ¸¬å®šï¼‰</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">åºŠã®æ­©è¡Œæ„Ÿãƒ»å‚¾ãç¢ºèª</div>
                    <div class="item-description">å„éƒ¨å±‹ã‚’æ­©ã„ã¦ç•°å¸¸ãªæ²ˆã¿ã€ãã—ã¿éŸ³ã€æ˜ã‚‰ã‹ãªå‚¾ããŒãªã„ã‹</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">éšæ®µãƒ»æ‰‹ã™ã‚Šã®å›ºå®šçŠ¶æ³</div>
                    <div class="item-description">æ‰‹ã™ã‚Šã®ãã‚‰ã¤ãã€éšæ®µã®ãã—ã¿éŸ³ã€è¸ã¿æ¿ã®æµ®ã</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">çª“ãƒ»ãƒ‰ã‚¢ã®é–‹é–‰ãƒ»æ–½éŒ ç¢ºèª</div>
                    <div class="item-description">å…¨ã¦ã®å»ºå…·ã®é–‹é–‰å‹•ä½œã€éµã®å‹•ä½œã€ã‚¬ãƒ©ã‚¹ã®å‰²ã‚Œã‚„æ­ªã¿</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 3. å¤–è£…ãƒ»å±‹æ ¹ -->
        <div class="category">
            <div class="category-header">ğŸ”´ 3. å¤–è£…ãƒ»å±‹æ ¹ï¼ˆåœ°ä¸Šç¢ºèªç¯„å›²ï¼‰</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å¤–å£ã®ã²ã³å‰²ã‚Œãƒ»æ¬ ã‘</div>
                    <div class="item-description">ã‚µã‚¤ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ¢ãƒ«ã‚¿ãƒ«ç­‰ã®å‰²ã‚Œã€æ¬ ã‘ã€æµ®ãã€åã‚Š</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ã‚·ãƒ¼ãƒªãƒ³ã‚°ï¼ˆã‚³ãƒ¼ã‚­ãƒ³ã‚°ï¼‰ã®çŠ¶æ…‹</div>
                    <div class="item-description">å¤–å£ç¶™ãç›®ã€ã‚µãƒƒã‚·å‘¨ã‚Šã€é…ç®¡è²«é€šéƒ¨ã®éš™é–“ã€å‰¥ãŒã‚Œã€æ‰“ã¡å¿˜ã‚Œ</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ãƒãƒ«ã‚³ãƒ‹ãƒ¼é˜²æ°´ãƒ»æ‰‹ã™ã‚Š</div>
                    <div class="item-description">é˜²æ°´å±¤ã®çŠ¶æ…‹ã€æ’æ°´å‹¾é…ã€æ‰‹ã™ã‚Šã®å›ºå®šçŠ¶æ³</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">é›¨æ¨‹ã®è¨­ç½®ãƒ»å›ºå®šçŠ¶æ³</div>
                    <div class="item-description">é›¨æ¨‹ã®å‰²ã‚Œã€é‡‘ç‰©ã®å›ºå®šçŠ¶æ³ã€ç¶™æ‰‹éƒ¨åˆ†ã®éš™é–“</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 4. å†…è£…ãƒ»ä»•ä¸Šã’ -->
        <div class="category">
            <div class="category-header">ğŸŸ¢ 4. å†…è£…ãƒ»ä»•ä¸Šã’</div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">åºŠæã®å‚·ãƒ»ã¸ã“ã¿ãƒ»éš™é–“</div>
                    <div class="item-description">ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã€ç•³ã€CFç­‰ã®å‚·ã€ç¶™ãç›®ã®éš™é–“ã€åºŠé³´ã‚Š</div>
                </div>
                <span class="priority-badge badge-low">ç¢ºèªæ¨å¥¨</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å£ç´™ãƒ»å¡—è£…ã®ä»•ä¸ŠãŒã‚Š</div>
                    <div class="item-description">ã‚¯ãƒ­ã‚¹ã®æµ®ãã€å‰¥ãŒã‚Œã€ç¶™ãç›®ã®éš™é–“ã€å¡—è£…ã®ãƒ ãƒ©</div>
                </div>
                <span class="priority-badge badge-low">ç¢ºèªæ¨å¥¨</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å»ºå…·ã®é–‹é–‰å‹•ä½œ</div>
                    <div class="item-description">ãƒ‰ã‚¢ã€å¼•ãæˆ¸ã€åç´æ‰‰ã®é–‹é–‰ã€æˆ¸å½“ãŸã‚Šèª¿æ•´ã€ã‚½ãƒ•ãƒˆã‚¯ãƒ­ãƒ¼ã‚ºæ©Ÿèƒ½</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å·¾æœ¨ãƒ»å›ã‚Šç¸ã®æ–½å·¥çŠ¶æ³</div>
                    <div class="item-description">ç¶™æ‰‹éƒ¨åˆ†ã®éš™é–“ã€é‡˜ã®å‡ºã£å¼µã‚Šã€è§’éƒ¨åˆ†ã®ç´ã¾ã‚Š</div>
                </div>
                <span class="priority-badge badge-low">ç¢ºèªæ¨å¥¨</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 5. è¨­å‚™ãƒ»é›»æ°— -->
        <div class="category">
            <div class="category-header">ğŸŸ¡ 5. è¨­å‚™ãƒ»é›»æ°—</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å…¨ç…§æ˜å™¨å…·ã®ç‚¹ç¯ç¢ºèª</div>
                    <div class="item-description">å„éƒ¨å±‹ã®ç…§æ˜ã€èª¿å…‰æ©Ÿèƒ½ã€äººæ„Ÿã‚»ãƒ³ã‚µãƒ¼ã®å‹•ä½œ</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å…¨ã‚³ãƒ³ã‚»ãƒ³ãƒˆã®é€šé›»ç¢ºèª</div>
                    <div class="item-description">ã‚¹ãƒãƒ›å……é›»å™¨ç­‰ã§é€šé›»ç¢ºèªã€ã‚¢ãƒ¼ã‚¹ä»˜ãã‚³ãƒ³ã‚»ãƒ³ãƒˆã®è¨­ç½®å ´æ‰€</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">æ›æ°—æ‰‡ãƒ»24æ™‚é–“æ›æ°—ã®å‹•ä½œç¢ºèª</div>
                    <div class="item-description">å„æ‰€æ›æ°—æ‰‡ã®å‹•ä½œã€ç•°éŸ³ã®æœ‰ç„¡ã€å¸å¼•åŠ›ï¼ˆãƒ†ã‚£ãƒƒã‚·ãƒ¥ã§ç¢ºèªï¼‰</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ›ãƒ³ãƒ»ç«ç½å ±çŸ¥å™¨ã®å‹•ä½œ</div>
                    <div class="item-description">å‘¼ã³å‡ºã—éŸ³ã€ç”»åƒç¢ºèªã€å„éšç«ç½å ±çŸ¥å™¨ã®é€£å‹•ç¢ºèª</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 6. æ°´å›ã‚Š -->
        <div class="category">
            <div class="category-header">ğŸ”´ 6. æ°´å›ã‚Š</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">é…ç®¡ã‹ã‚‰ã®æ¼æ°´ç¢ºèª</div>
                    <div class="item-description">ã‚­ãƒƒãƒãƒ³ä¸‹ã€æ´—é¢å°ä¸‹ã€ãƒˆã‚¤ãƒ¬å‘¨ã‚Šã®é…ç®¡æ¥ç¶šéƒ¨ï¼ˆç›®è¦–ãƒ»è§¦è¨ºï¼‰</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">çµ¦æ°´ãƒ»çµ¦æ¹¯ã®æ°´åœ§ãƒ»æ¸©åº¦</div>
                    <div class="item-description">å„è›‡å£ã®æ°´åœ§ã€ãŠæ¹¯ã®è¨­å®šæ¸©åº¦ã¨å®Ÿéš›ã®æ¸©åº¦ã€æ··åˆæ°´æ “ã®å·¦å³</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">æ’æ°´ã®æµã‚Œãƒ»éŸ³</div>
                    <div class="item-description">ã‚­ãƒƒãƒãƒ³ã€æ´—é¢ã€æµ´å®¤ã€ãƒˆã‚¤ãƒ¬ã®æ’æ°´çŠ¶æ³ã€ç•°éŸ³ã®æœ‰ç„¡</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ãƒˆã‚¤ãƒ¬ã®å‹•ä½œç¢ºèª</div>
                    <div class="item-description">æ´—æµ„æ©Ÿèƒ½ã€çµ¦æ°´åœæ­¢ã€æ°´æ¼ã‚Œã€æ¸©æ°´æ´—æµ„ä¾¿åº§ã®å‹•ä½œ</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ã‚­ãƒƒãƒãƒ³ãƒ»æµ´å®¤è¨­å‚™ã®å‹•ä½œ</div>
                    <div class="item-description">IHã‚³ãƒ³ãƒ­ã€ãƒ¬ãƒ³ã‚¸ãƒ•ãƒ¼ãƒ‰ã€é£Ÿæ´—æ©Ÿã€æµ´å®¤æ›æ°—ä¹¾ç‡¥æ©Ÿ</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 7. å¤–æ§‹ãƒ»å¢ƒç•Œ -->
        <div class="category">
            <div class="category-header">ğŸ”´ 7. å¤–æ§‹ãƒ»å¢ƒç•Œ</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å¢ƒç•Œæ¨™ã®è¨­ç½®ç¢ºèª</div>
                    <div class="item-description">éš£åœ°ã¨ã®å¢ƒç•Œæ¨™ï¼ˆå¢ƒç•Œæ­ï¼‰ã®è¨­ç½®çŠ¶æ³ã¨ä½ç½®</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">éš£åœ°ã¸ã®è¶Šå¢ƒç¢ºèª</div>
                    <div class="item-description">å±‹æ ¹ã€è»’ã€ã‚¨ã‚¢ã‚³ãƒ³å®¤å¤–æ©Ÿã€é›¨æ¨‹ç­‰ã®è¶Šå¢ƒãƒã‚§ãƒƒã‚¯</div>
                </div>
                <span class="priority-badge badge-high">æœ€é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å¤–æ§‹å·¥äº‹ã®å®Œæˆåº¦</div>
                    <div class="item-description">é–€æ‰‰ã€ãƒ•ã‚§ãƒ³ã‚¹ã€ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€é§è»Šå ´ã®ä»•ä¸ŠãŒã‚Š</div>
                </div>
                <span class="priority-badge badge-low">ç¢ºèªæ¨å¥¨</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ç„é–¢ãƒãƒ¼ãƒãƒ»çŠ¬èµ°ã‚Š</div>
                    <div class="item-description">ã‚¿ã‚¤ãƒ«ã®æµ®ããƒ»å‰²ã‚Œã€ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆã®ã²ã³å‰²ã‚Œã€æ’æ°´å‹¾é…</div>
                </div>
                <span class="priority-badge badge-low">ç¢ºèªæ¨å¥¨</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>

        <!-- 8. ã‚ªãƒ—ã‚·ãƒ§ãƒ³é …ç›® -->
        <div class="category">
            <div class="category-header">ğŸŸ¡ 8. ã‚ªãƒ—ã‚·ãƒ§ãƒ³é …ç›®</div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ç„é–¢å›ã‚Šã®ç…§æ˜ã‚»ãƒ³ã‚µãƒ¼</div>
                    <div class="item-description">äººæ„Ÿã‚»ãƒ³ã‚µãƒ¼ã®å‹•ä½œç¢ºèªã€æ„ŸçŸ¥ç¯„å›²ã®èª¿æ•´</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">éšæ®µç…§æ˜ã®é…é›»ï¼ˆä¸‰å‰è·¯ï¼‰</div>
                    <div class="item-description">1éšãƒ»2éšãƒ»è¸Šã‚Šå ´ã§ã®ç…§æ˜ã‚¹ã‚¤ãƒƒãƒã®é€£å‹•ç¢ºèª</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">å„ãƒ‰ã‚¢ã®ç•™ã‚å…·ï¼ˆã‚¢ãƒ¼ãƒ ã€ãƒãƒ¼ã€åºŠä»˜ã‘ï¼‰</div>
                    <div class="item-description">ãƒ‰ã‚¢ã‚¹ãƒˆãƒƒãƒ‘ãƒ¼é¡ã®è¨­ç½®ç¢ºèªã¨å‹•ä½œãƒ†ã‚¹ãƒˆ</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ãƒ†ãƒ¬ãƒ“è£ã®ä¸‹åœ°</div>
                    <div class="item-description">å£æ›ã‘ãƒ†ãƒ¬ãƒ“ç”¨ã®ä¸‹åœ°è£œå¼·æã®è¨­ç½®ç¢ºèª</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ã‚«ãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®æ¨ªå‘ãã‚³ãƒ³ã‚»ãƒ³ãƒˆè¨­ç½®</div>
                    <div class="item-description">æŒ‡å®šã—ãŸæ¨ªå‘ãã‚³ãƒ³ã‚»ãƒ³ãƒˆã®ä½ç½®ã¨å‘ãã®ç¢ºèª</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">1,3éšã®åºŠæ¿å‘ã</div>
                    <div class="item-description">ãƒ•ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã®å¼µã‚Šæ–¹å‘ãŒæŒ‡å®šé€šã‚Šã‹ç¢ºèª</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">åº­ã‚¹ãƒšãƒ¼ã‚¹ã®ç ‚åˆ©ç„¡ã—</div>
                    <div class="item-description">æŒ‡å®šã—ãŸåº­ã‚¨ãƒªã‚¢ã«ç ‚åˆ©ãŒæ•·ã‹ã‚Œã¦ã„ãªã„ã“ã¨ã®ç¢ºèª</div>
                </div>
                <span class="priority-badge badge-medium">é‡è¦</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’è¿½åŠ </button>
        </div>
    </div>

    <div class="floating-stats" id="floatingStats">
        ãƒã‚§ãƒƒã‚¯å®Œäº†: 0/31
    </div>

    <script>
        // ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
        function saveData() {
            const data = {
                checkboxes: [],
                customItems: [],
                timestamp: new Date().toISOString(),
                version: '3.0'
            };
            
            // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã‚’ä¿å­˜
            document.querySelectorAll('input[type="checkbox"]').forEach((checkbox, index) => {
                const item = checkbox.closest('.checklist-item');
                data.checkboxes.push({
                    index: index,
                    checked: checkbox.checked,
                    itemText: item?.querySelector('.item-title')?.textContent || '',
                    isCustom: item?.classList.contains('custom-item') || false
                });
            });
            
            // ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’åˆ¥é€”ä¿å­˜
            document.querySelectorAll('.custom-item').forEach(item => {
                data.customItems.push({
                    title: item.querySelector('.item-title')?.textContent || '',
                    description: item.querySelector('.item-description')?.textContent || '',
                    priority: item.classList.contains('priority-high') ? 'high' : 
                             item.classList.contains('priority-medium') ? 'medium' : 'low',
                    categoryIndex: Array.from(document.querySelectorAll('.category')).findIndex(cat => 
                        cat.contains(item)
                    )
                });
            });
            
            localStorage.setItem('checklistData', JSON.stringify(data));
            return data;
        }
        
        function loadData() {
            const savedData = localStorage.getItem('checklistData');
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    
                    // æ—¢å­˜ã®ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’ã‚¯ãƒªã‚¢
                    document.querySelectorAll('.custom-item').forEach(item => item.remove());
                    
                    // ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’å¾©å…ƒ
                    if (data.customItems) {
                        data.customItems.forEach(customItem => {
                            const categories = document.querySelectorAll('.category');
                            if (categories[customItem.categoryIndex]) {
                                createCustomItemElement(
                                    customItem.title,
                                    customItem.description,
                                    customItem.priority,
                                    categories[customItem.categoryIndex]
                                );
                            }
                        });
                    }
                    
                    // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹ã‚’å¾©å…ƒ
                    data.checkboxes.forEach((item, index) => {
                        const checkbox = document.querySelectorAll('input[type="checkbox"]')[index];
                        if (checkbox) {
                            checkbox.checked = item.checked;
                        }
                    });
                    
                    updateProgress();
                } catch (error) {
                    console.error('ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—:', error);
                }
            }
        }
        
        // é …ç›®å‰Šé™¤æ©Ÿèƒ½
        function deleteItem(button) {
            const item = button.closest('.checklist-item');
            const title = item.querySelector('.item-title').textContent;
            
            if (confirm(`ã€Œ${title}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
                item.remove();
                updateProgress();
                saveData();
                showNotification('é …ç›®ã‚’å‰Šé™¤ã—ã¾ã—ãŸ', 'success');
            }
        }
        
        // ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
        function exportData() {
            const data = saveData();
            const jsonString = JSON.stringify(data, null, 2);
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(jsonString).then(() => {
                    showNotification('âœ… ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼', 'success');
                }).catch(() => {
                    fallbackCopy(jsonString);
                });
            } else {
                fallbackCopy(jsonString);
            }
        }
        
        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                height: 60%;
                z-index: 10000;
                background: white;
                border: 3px solid #333;
                border-radius: 10px;
                padding: 20px;
                font-family: monospace;
                font-size: 12px;
            `;
            document.body.appendChild(textarea);
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            
            showNotification('ğŸ“‹ ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å†…å®¹ã‚’æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„', 'info');
            
            setTimeout(() => {
                if (document.body.contains(textarea)) {
                    document.body.removeChild(textarea);
                }
            }, 30000);
        }
        
        // ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
        function toggleImportArea() {
            const importArea = document.getElementById('importArea');
            importArea.style.display = importArea.style.display === 'none' ? 'block' : 'none';
        }
        
        function importData() {
            const importText = document.getElementById('importData').value.trim();
            if (!importText) {
                showNotification('âŒ ãƒ‡ãƒ¼ã‚¿ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“', 'error');
                return;
            }
            
            try {
                const data = JSON.parse(importText);
                localStorage.setItem('checklistData', importText);
                loadData();
                showNotification('âœ… ãƒ‡ãƒ¼ã‚¿ã‚’æ­£å¸¸ã«èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼', 'success');
                document.getElementById('importArea').style.display = 'none';
                document.getElementById('importData').value = '';
            } catch (error) {
                showNotification('âŒ ãƒ‡ãƒ¼ã‚¿ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“', 'error');
            }
        }
        
        // å…±æœ‰URLç”Ÿæˆ
        function generateShareURL() {
            const data = saveData();
            const encodedData = btoa(encodeURIComponent(JSON.stringify(data)));
            const currentURL = window.location.href.split('#')[0];
            const shareURL = `${currentURL}#data=${encodedData}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareURL).then(() => {
                    showNotification('ğŸ”— å…±æœ‰URLã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼', 'success');
                }).catch(() => {
                    showShareDialog(shareURL);
                });
            } else {
                showShareDialog(shareURL);
            }
        }
        
        function showShareDialog(url) {
            const dialog = document.createElement('div');
            dialog.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 30px;
                border-radius: 15px;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                z-index: 10000;
                max-width: 90%;
                text-align: center;
            `;
            
            dialog.innerHTML = `
                <h3>ğŸ”— å…±æœ‰URL</h3>
                <p style="margin: 15px 0; font-size: 0.9em; color: #666;">
                    ã“ã®URLã‚’ä»–ã®ãƒ‡ãƒã‚¤ã‚¹ã§é–‹ãã¨ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•èª­ã¿è¾¼ã¿ã•ã‚Œã¾ã™
                </p>
                <textarea readonly style="width: 100%; height: 100px; margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 0.8em;">${url}</textarea>
                <button onclick="this.parentElement.remove()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">é–‰ã˜ã‚‹</button>
            `;
            
            document.body.appendChild(dialog);
            dialog.querySelector('textarea').select();
        }
        
        // URL ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•èª­ã¿è¾¼ã¿
        function loadFromURL() {
            const hash = window.location.hash;
            if (hash.includes('#data=')) {
                try {
                    const encodedData = hash.split('#data=')[1];
                    const data = JSON.parse(decodeURIComponent(atob(encodedData)));
                    localStorage.setItem('checklistData', JSON.stringify(data));
                    loadData();
                    showNotification('âœ… å…±æœ‰ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•èª­ã¿è¾¼ã¿ã—ã¾ã—ãŸï¼', 'success');
                    // URLã®ãƒãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
                    window.history.replaceState({}, document.title, window.location.pathname);
                } catch (error) {
                    console.error('URL ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã«å¤±æ•—:', error);
                    showNotification('âŒ å…±æœ‰ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ', 'error');
                }
            }
        }
        
        // é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const colors = {
                'success': '#4CAF50',
                'error': '#f44336',
                'info': '#2196F3'
            };
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${colors[type]};
                color: white;
                padding: 15px 25px;
                border-radius: 25px;
                box-shadow: 0 5px 25px rgba(0,0,0,0.2);
                z-index: 10000;
                font-weight: 600;
                max-width: 90%;
                text-align: center;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 4000);
        }
        
        // é€²æ—ç®¡ç†
        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            const total = checkboxes.length;
            const completed = checked.length;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '% å®Œäº†';
            document.getElementById('floatingStats').textContent = `ãƒã‚§ãƒƒã‚¯å®Œäº†: ${completed}/${total}`;
            
            // ãƒ‡ãƒ¼ã‚¿è‡ªå‹•ä¿å­˜
            saveData();
        }
        
        // ã‚«ã‚¹ã‚¿ãƒ é …ç›®è¿½åŠ 
        function addCustomItem(button) {
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'custom-input';
            input.placeholder = 'ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...';
            
            const descInput = document.createElement('input');
            descInput.type = 'text';
            descInput.className = 'custom-input';
            descInput.placeholder = 'è©³ç´°èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...';
            descInput.style.marginTop = '5px';
            
            const prioritySelect = document.createElement('select');
            prioritySelect.className = 'custom-input';
            prioritySelect.style.marginTop = '10px';
            prioritySelect.innerHTML = `
                <option value="high">ğŸ”´ æœ€é‡è¦</option>
                <option value="medium">ğŸŸ¡ é‡è¦</option>
                <option value="low">ğŸŸ¢ ç¢ºèªæ¨å¥¨</option>
            `;
            
            const addButton = document.createElement('button');
            addButton.textContent = 'è¿½åŠ ';
            addButton.className = 'sync-button';
            addButton.style.margin = '10px 20px';
            addButton.onclick = () => {
                if (input.value.trim()) {
                    createCustomItemElement(
                        input.value.trim(),
                        descInput.value.trim() || 'ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã§ã™',
                        prioritySelect.value,
                        button.parentNode
                    );
                    input.remove();
                    descInput.remove();
                    prioritySelect.remove();
                    addButton.remove();
                    updateProgress();
                }
            };
            
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    descInput.focus();
                }
            });
            
            descInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addButton.click();
                }
            });
            
            button.parentNode.insertBefore(input, button);
            button.parentNode.insertBefore(descInput, button);
            button.parentNode.insertBefore(prioritySelect, button);
            button.parentNode.insertBefore(addButton, button);
            input.focus();
        }
        
        function createCustomItemElement(title, description, priority, container) {
            const item = document.createElement('div');
            item.className = `checklist-item priority-${priority} custom-item`;
            
            const badgeText = priority === 'high' ? 'æœ€é‡è¦' : priority === 'medium' ? 'é‡è¦' : 'ç¢ºèªæ¨å¥¨';
            const badgeClass = `badge-${priority}`;
            
            item.innerHTML = `
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">${title}</div>
                    <div class="item-description">${description}</div>
                </div>
                <span class="priority-badge ${badgeClass}">${badgeText}</span>
                <button class="delete-button" onclick="deleteItem(this)" title="é …ç›®ã‚’å‰Šé™¤">Ã—</button>
            `;
            
            const addButton = container.querySelector('.add-custom');
            container.insertBefore(item, addButton);
        }
        
        // åˆæœŸåŒ–
        window.addEventListener('load', () => {
            loadFromURL();
            loadData();
            updateProgress();
        });
    </script>
</body>
</html>
