<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êà∏Âª∫„Å¶ÂÜÖË¶ß‰ºö„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„ÉàÔºàÂÆåÂÖ®ÁâàÔºâ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            color: #333;
            padding: 30px 20px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 1.8em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.3);
            border-radius: 25px;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            height: 100%;
            border-radius: 25px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            margin-top: 10px;
            font-weight: 600;
            color: #555;
        }
        
        .sync-controls {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            margin: 20px 0;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .sync-controls h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .sync-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            margin: 5px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            min-height: 44px;
        }
        
        .sync-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .import-button {
            background: linear-gradient(135deg, #28a745, #20c997);
        }
        
        .export-button {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
        }
        
        .sync-textarea {
            width: 100%;
            height: 120px;
            margin: 15px 0;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.8em;
            resize: vertical;
        }
        
        .category {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .category-header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            font-size: 1.2em;
            font-weight: 700;
        }
        
        .checklist-item {
            padding: 18px 20px;
            border-bottom: 1px solid #f8f9fa;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: background 0.2s;
            position: relative;
        }
        
        .checklist-item:hover {
            background: #f8f9fa;
        }
        
        .checklist-item:last-child {
            border-bottom: none;
        }
        
        .priority-high { border-left: 5px solid #e74c3c; }
        .priority-medium { border-left: 5px solid #f39c12; }
        .priority-low { border-left: 5px solid #27ae60; }
        
        .checkbox-wrapper {
            position: relative;
            min-width: 24px;
        }
        
        .checkbox-wrapper input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            transform: scale(1.2);
        }
        
        .item-content {
            flex: 1;
        }
        
        .item-title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 1em;
        }
        
        .item-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .priority-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .badge-high { background: #fee2e2; color: #dc2626; }
        .badge-medium { background: #fef3c7; color: #d97706; }
        .badge-low { background: #dcfce7; color: #16a34a; }
        
        .delete-button {
            background: #dc3545;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: background 0.2s;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .delete-button:hover {
            background: #c82333;
        }
        
        .add-custom {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 20px;
            font-size: 0.9em;
            font-weight: 600;
            transition: transform 0.2s;
            min-height: 44px;
            width: calc(100% - 40px);
        }
        
        .add-custom:hover {
            transform: translateY(-2px);
        }
        
        .custom-input {
            margin: 15px 20px;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            width: calc(100% - 40px);
            font-size: 1em;
            min-height: 44px;
        }
        
        .floating-stats {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            font-size: 0.9em;
            font-weight: 600;
            z-index: 1000;
        }
        
        .import-area {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        /* „Çπ„Éû„Éº„Éà„Éï„Ç©„É≥ÂØæÂøú */
        @media (max-width: 768px) {
            .container { 
                padding: 15px 10px; 
            }
            
            .header { 
                padding: 25px 20px;
                margin-bottom: 20px;
            }
            
            .header h1 { 
                font-size: 1.5em; 
            }
            
            .sync-controls {
                padding: 20px 15px;
            }
            
            .sync-button {
                width: 100%;
                margin: 8px 0;
                padding: 15px;
                font-size: 1em;
            }
            
            .checklist-item {
                padding: 15px;
                gap: 12px;
            }
            
            .item-title {
                font-size: 0.95em;
            }
            
            .item-description {
                font-size: 0.85em;
            }
            
            .floating-stats { 
                bottom: 15px; 
                right: 15px; 
                padding: 12px 16px;
                font-size: 0.8em;
            }
            
            .delete-button {
                width: 28px;
                height: 28px;
                font-size: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px 5px;
            }
            
            .checklist-item {
                padding: 12px 10px;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .checkbox-wrapper {
                order: 1;
            }
            
            .item-content {
                order: 2;
                flex: 1 1 100%;
            }
            
            .priority-badge {
                order: 3;
            }
            
            .delete-button {
                order: 4;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† Êà∏Âª∫„Å¶ÂÜÖË¶ß‰ºö„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„Éà</h1>
            <p>‰øÆÊ≠£Áâà - ÂâäÈô§Ê©üËÉΩ‰ªò„Åç</p>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
                <div class="progress-text" id="progressText">0% ÂÆå‰∫Ü</div>
            </div>
        </div>

        <div class="sync-controls">
            <h3>üì§ „Éá„Éº„ÇøÂÖ±ÊúâÊ©üËÉΩ</h3>
            <button class="sync-button export-button" onclick="exportData()">üìã „Éá„Éº„Çø„Çí„Ç≥„Éî„Éº</button>
            <button class="sync-button import-button" onclick="toggleImportArea()">üì• „Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø</button>
            <button class="sync-button" onclick="generateShareURL()">üîó ÂÖ±ÊúâURL„ÇíÁîüÊàê</button>
            
            <div id="importArea" class="import-area" style="display:none;">
                <h4>„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø</h4>
                <textarea class="sync-textarea" id="importData" placeholder="‰ªñ„ÅÆ„Éá„Éê„Ç§„Çπ„Åã„Çâ„Ç≥„Éî„Éº„Åó„Åü„Éá„Éº„Çø„Çí„Åì„Åì„Å´Ë≤º„Çä‰ªò„Åë„Å¶„Åè„Å†„Åï„ÅÑ..."></textarea>
                <button class="sync-button import-button" onclick="importData()">Ë™≠„ÅøËæº„ÅøÂÆüË°å</button>
            </div>
        </div>

        <!-- 1. Âõ≥Èù¢„Å®„ÅÆÊï¥ÂêàÁ¢∫Ë™ç -->
        <div class="category">
            <div class="category-header">üî¥ 1. Âõ≥Èù¢„Å®„ÅÆÊï¥ÂêàÁ¢∫Ë™ç</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÈñìÂèñ„Çä„ÉªÈÉ®Â±ãÈÖçÁΩÆ„ÅÆÁ¢∫Ë™ç</div>
                    <div class="item-description">ÂêÑÈÉ®Â±ã„ÅÆ‰ΩçÁΩÆ„ÄÅÂØ∏Ê≥ï„ÄÅÊââ„ÅÆ‰ΩçÁΩÆ„Å®Èñã„ÅèÊñπÂêë„ÅåÂõ≥Èù¢ÈÄö„Çä„Åã</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Á™ì„Éª„Çµ„ÉÉ„Ç∑„ÅÆÁ®ÆÈ°û„Éª‰ΩçÁΩÆ</div>
                    <div class="item-description">Á™ì„ÅÆÁ®ÆÈ°ûÔºàÂºï„ÅçÈÅï„ÅÑ„ÄÅ‰∏ä„Åí‰∏ã„ÅíÁ≠âÔºâ„ÄÅ„Çµ„Ç§„Ç∫„ÄÅÂèñ‰ªòÈ´ò„Åï„ÄÅ„Ç¨„É©„ÇπÁ®ÆÈ°û</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÁÖßÊòéÂô®ÂÖ∑„ÅÆ‰ΩçÁΩÆ„ÉªÊï∞</div>
                    <div class="item-description">„ÉÄ„Ç¶„É≥„É©„Ç§„Éà„ÄÅ„Ç∑„Éº„É™„É≥„Ç∞„É©„Ç§„Éà„ÅÆ‰ΩçÁΩÆ„Å®Êï∞Èáè„ÄÅ„Çπ„Ç§„ÉÉ„ÉÅ„Å®„ÅÆÂØæÂøú</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Ç≥„É≥„Çª„É≥„Éà„Éª„Çπ„Ç§„ÉÉ„ÉÅ„ÅÆ‰ΩçÁΩÆ„ÉªÊï∞</div>
                    <div class="item-description">ÈõªÊ∞óÂõ≥Èù¢ÈÄö„Çä„ÅÆÈÖçÁΩÆ„ÄÅÈ´ò„Åï„ÄÅ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÉªTVÂõûÁ∑ö„ÅÆ‰ΩçÁΩÆ</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÂèéÁ¥ç„ÅÆ‰ªïÊßò„ÉªÂÆπÈáè</div>
                    <div class="item-description">„ÇØ„É≠„Éº„Çº„ÉÉ„Éà„ÄÅÊäºÂÖ•„Çå„ÅÆ„Çµ„Ç§„Ç∫„ÄÅÊ£öÊùø„Éª„Éè„É≥„Ç¨„Éº„Éë„Ç§„Éó„ÅÆ‰ΩçÁΩÆ</div>
                </div>
                <span class="priority-badge badge-low">Á¢∫Ë™çÊé®Â•®</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 2. ÊßãÈÄ†„ÉªÂÆâÂÖ®ÊÄß -->
        <div class="category">
            <div class="category-header">üî¥ 2. ÊßãÈÄ†„ÉªÂÆâÂÖ®ÊÄßÔºàÁõÆË¶ñÁ¢∫Ë™çÁØÑÂõ≤Ôºâ</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Âü∫Á§é„ÅÆ„Å≤„Å≥Ââ≤„ÇåÁ¢∫Ë™ç</div>
                    <div class="item-description">Âü∫Á§éÁ´ã‰∏ä„ÇäÈÉ®ÂàÜ„ÅÆ0.5mm‰ª•‰∏ä„ÅÆ„Å≤„Å≥Ââ≤„ÇåÔºà„Ç∑„É£„Éº„Éó„Éö„É≥„Ç∑„É´ËäØ„ÅßÊ∏¨ÂÆöÔºâ</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â∫ä„ÅÆÊ≠©Ë°åÊÑü„ÉªÂÇæ„ÅçÁ¢∫Ë™ç</div>
                    <div class="item-description">ÂêÑÈÉ®Â±ã„ÇíÊ≠©„ÅÑ„Å¶Áï∞Â∏∏„Å™Ê≤à„Åø„ÄÅ„Åç„Åó„ÅøÈü≥„ÄÅÊòé„Çâ„Åã„Å™ÂÇæ„Åç„Åå„Å™„ÅÑ„Åã</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÈöéÊÆµ„ÉªÊâã„Åô„Çä„ÅÆÂõ∫ÂÆöÁä∂Ê≥Å</div>
                    <div class="item-description">Êâã„Åô„Çä„ÅÆ„Åê„Çâ„Å§„Åç„ÄÅÈöéÊÆµ„ÅÆ„Åç„Åó„ÅøÈü≥„ÄÅË∏è„ÅøÊùø„ÅÆÊµÆ„Åç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Á™ì„Éª„Éâ„Ç¢„ÅÆÈñãÈñâ„ÉªÊñΩÈå†Á¢∫Ë™ç</div>
                    <div class="item-description">ÂÖ®„Å¶„ÅÆÂª∫ÂÖ∑„ÅÆÈñãÈñâÂãï‰Ωú„ÄÅÈçµ„ÅÆÂãï‰Ωú„ÄÅ„Ç¨„É©„Çπ„ÅÆÂâ≤„Çå„ÇÑÊ≠™„Åø</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 3. Â§ñË£Ö„ÉªÂ±ãÊ†π -->
        <div class="category">
            <div class="category-header">üî¥ 3. Â§ñË£Ö„ÉªÂ±ãÊ†πÔºàÂú∞‰∏äÁ¢∫Ë™çÁØÑÂõ≤Ôºâ</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â§ñÂ£Å„ÅÆ„Å≤„Å≥Ââ≤„Çå„ÉªÊ¨†„Åë</div>
                    <div class="item-description">„Çµ„Ç§„Éá„Ç£„É≥„Ç∞„ÄÅ„É¢„É´„Çø„É´Á≠â„ÅÆÂâ≤„Çå„ÄÅÊ¨†„Åë„ÄÅÊµÆ„Åç„ÄÅÂèç„Çä</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Ç∑„Éº„É™„É≥„Ç∞Ôºà„Ç≥„Éº„Ç≠„É≥„Ç∞Ôºâ„ÅÆÁä∂ÊÖã</div>
                    <div class="item-description">Â§ñÂ£ÅÁ∂ô„ÅéÁõÆ„ÄÅ„Çµ„ÉÉ„Ç∑Âë®„Çä„ÄÅÈÖçÁÆ°Ë≤´ÈÄöÈÉ®„ÅÆÈöôÈñì„ÄÅÂâ•„Åå„Çå„ÄÅÊâì„Å°Âøò„Çå</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Éê„É´„Ç≥„Éã„ÉºÈò≤Ê∞¥„ÉªÊâã„Åô„Çä</div>
                    <div class="item-description">Èò≤Ê∞¥Â±§„ÅÆÁä∂ÊÖã„ÄÅÊéíÊ∞¥ÂãæÈÖç„ÄÅÊâã„Åô„Çä„ÅÆÂõ∫ÂÆöÁä∂Ê≥Å</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Èõ®Ê®ã„ÅÆË®≠ÁΩÆ„ÉªÂõ∫ÂÆöÁä∂Ê≥Å</div>
                    <div class="item-description">Èõ®Ê®ã„ÅÆÂâ≤„Çå„ÄÅÈáëÁâ©„ÅÆÂõ∫ÂÆöÁä∂Ê≥Å„ÄÅÁ∂ôÊâãÈÉ®ÂàÜ„ÅÆÈöôÈñì</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 4. ÂÜÖË£Ö„Éª‰ªï‰∏ä„Åí -->
        <div class="category">
            <div class="category-header">üü¢ 4. ÂÜÖË£Ö„Éª‰ªï‰∏ä„Åí</div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â∫äÊùê„ÅÆÂÇ∑„Éª„Å∏„Åì„Åø„ÉªÈöôÈñì</div>
                    <div class="item-description">„Éï„É≠„Éº„É™„É≥„Ç∞„ÄÅÁï≥„ÄÅCFÁ≠â„ÅÆÂÇ∑„ÄÅÁ∂ô„ÅéÁõÆ„ÅÆÈöôÈñì„ÄÅÂ∫äÈ≥¥„Çä</div>
                </div>
                <span class="priority-badge badge-low">Á¢∫Ë™çÊé®Â•®</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â£ÅÁ¥ô„ÉªÂ°óË£Ö„ÅÆ‰ªï‰∏ä„Åå„Çä</div>
                    <div class="item-description">„ÇØ„É≠„Çπ„ÅÆÊµÆ„Åç„ÄÅÂâ•„Åå„Çå„ÄÅÁ∂ô„ÅéÁõÆ„ÅÆÈöôÈñì„ÄÅÂ°óË£Ö„ÅÆ„É†„É©</div>
                </div>
                <span class="priority-badge badge-low">Á¢∫Ë™çÊé®Â•®</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Âª∫ÂÖ∑„ÅÆÈñãÈñâÂãï‰Ωú</div>
                    <div class="item-description">„Éâ„Ç¢„ÄÅÂºï„ÅçÊà∏„ÄÅÂèéÁ¥çÊââ„ÅÆÈñãÈñâ„ÄÅÊà∏ÂΩì„Åü„ÇäË™øÊï¥„ÄÅ„ÇΩ„Éï„Éà„ÇØ„É≠„Éº„Ç∫Ê©üËÉΩ</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â∑æÊú®„ÉªÂõû„ÇäÁ∏Å„ÅÆÊñΩÂ∑•Áä∂Ê≥Å</div>
                    <div class="item-description">Á∂ôÊâãÈÉ®ÂàÜ„ÅÆÈöôÈñì„ÄÅÈáò„ÅÆÂá∫„Å£Âºµ„Çä„ÄÅËßíÈÉ®ÂàÜ„ÅÆÁ¥ç„Åæ„Çä</div>
                </div>
                <span class="priority-badge badge-low">Á¢∫Ë™çÊé®Â•®</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 5. Ë®≠ÂÇô„ÉªÈõªÊ∞ó -->
        <div class="category">
            <div class="category-header">üü° 5. Ë®≠ÂÇô„ÉªÈõªÊ∞ó</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÂÖ®ÁÖßÊòéÂô®ÂÖ∑„ÅÆÁÇπÁÅØÁ¢∫Ë™ç</div>
                    <div class="item-description">ÂêÑÈÉ®Â±ã„ÅÆÁÖßÊòé„ÄÅË™øÂÖâÊ©üËÉΩ„ÄÅ‰∫∫ÊÑü„Çª„É≥„Çµ„Éº„ÅÆÂãï‰Ωú</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÂÖ®„Ç≥„É≥„Çª„É≥„Éà„ÅÆÈÄöÈõªÁ¢∫Ë™ç</div>
                    <div class="item-description">„Çπ„Éû„ÉõÂÖÖÈõªÂô®Á≠â„ÅßÈÄöÈõªÁ¢∫Ë™ç„ÄÅ„Ç¢„Éº„Çπ‰ªò„Åç„Ç≥„É≥„Çª„É≥„Éà„ÅÆË®≠ÁΩÆÂ†¥ÊâÄ</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÊèõÊ∞óÊâá„Éª24ÊôÇÈñìÊèõÊ∞ó„ÅÆÂãï‰ΩúÁ¢∫Ë™ç</div>
                    <div class="item-description">ÂêÑÊâÄÊèõÊ∞óÊâá„ÅÆÂãï‰Ωú„ÄÅÁï∞Èü≥„ÅÆÊúâÁÑ°„ÄÅÂê∏ÂºïÂäõÔºà„ÉÜ„Ç£„ÉÉ„Ç∑„É•„ÅßÁ¢∫Ë™çÔºâ</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Ç§„É≥„Çø„Éº„Éõ„É≥„ÉªÁÅ´ÁÅΩÂ†±Áü•Âô®„ÅÆÂãï‰Ωú</div>
                    <div class="item-description">Âëº„Å≥Âá∫„ÅóÈü≥„ÄÅÁîªÂÉèÁ¢∫Ë™ç„ÄÅÂêÑÈöéÁÅ´ÁÅΩÂ†±Áü•Âô®„ÅÆÈÄ£ÂãïÁ¢∫Ë™ç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 6. Ê∞¥Âõû„Çä -->
        <div class="category">
            <div class="category-header">üî¥ 6. Ê∞¥Âõû„Çä</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÈÖçÁÆ°„Åã„Çâ„ÅÆÊºèÊ∞¥Á¢∫Ë™ç</div>
                    <div class="item-description">„Ç≠„ÉÉ„ÉÅ„É≥‰∏ã„ÄÅÊ¥óÈù¢Âè∞‰∏ã„ÄÅ„Éà„Ç§„É¨Âë®„Çä„ÅÆÈÖçÁÆ°Êé•Á∂öÈÉ®ÔºàÁõÆË¶ñ„ÉªËß¶Ë®∫Ôºâ</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Áµ¶Ê∞¥„ÉªÁµ¶ÊπØ„ÅÆÊ∞¥Âúß„ÉªÊ∏©Â∫¶</div>
                    <div class="item-description">ÂêÑËõáÂè£„ÅÆÊ∞¥Âúß„ÄÅ„ÅäÊπØ„ÅÆË®≠ÂÆöÊ∏©Â∫¶„Å®ÂÆüÈöõ„ÅÆÊ∏©Â∫¶„ÄÅÊ∑∑ÂêàÊ∞¥Ê†ì„ÅÆÂ∑¶Âè≥</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÊéíÊ∞¥„ÅÆÊµÅ„Çå„ÉªÈü≥</div>
                    <div class="item-description">„Ç≠„ÉÉ„ÉÅ„É≥„ÄÅÊ¥óÈù¢„ÄÅÊµ¥ÂÆ§„ÄÅ„Éà„Ç§„É¨„ÅÆÊéíÊ∞¥Áä∂Ê≥Å„ÄÅÁï∞Èü≥„ÅÆÊúâÁÑ°</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Éà„Ç§„É¨„ÅÆÂãï‰ΩúÁ¢∫Ë™ç</div>
                    <div class="item-description">Ê¥óÊµÑÊ©üËÉΩ„ÄÅÁµ¶Ê∞¥ÂÅúÊ≠¢„ÄÅÊ∞¥Êºè„Çå„ÄÅÊ∏©Ê∞¥Ê¥óÊµÑ‰æøÂ∫ß„ÅÆÂãï‰Ωú</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Ç≠„ÉÉ„ÉÅ„É≥„ÉªÊµ¥ÂÆ§Ë®≠ÂÇô„ÅÆÂãï‰Ωú</div>
                    <div class="item-description">IH„Ç≥„É≥„É≠„ÄÅ„É¨„É≥„Ç∏„Éï„Éº„Éâ„ÄÅÈ£üÊ¥óÊ©ü„ÄÅÊµ¥ÂÆ§ÊèõÊ∞ó‰πæÁá•Ê©ü</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 7. Â§ñÊßã„ÉªÂ¢ÉÁïå -->
        <div class="category">
            <div class="category-header">üî¥ 7. Â§ñÊßã„ÉªÂ¢ÉÁïå</div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â¢ÉÁïåÊ®ô„ÅÆË®≠ÁΩÆÁ¢∫Ë™ç</div>
                    <div class="item-description">Èö£Âú∞„Å®„ÅÆÂ¢ÉÁïåÊ®ôÔºàÂ¢ÉÁïåÊù≠Ôºâ„ÅÆË®≠ÁΩÆÁä∂Ê≥Å„Å®‰ΩçÁΩÆ</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-high">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Èö£Âú∞„Å∏„ÅÆË∂äÂ¢ÉÁ¢∫Ë™ç</div>
                    <div class="item-description">Â±ãÊ†π„ÄÅËªí„ÄÅ„Ç®„Ç¢„Ç≥„É≥ÂÆ§Â§ñÊ©ü„ÄÅÈõ®Ê®ãÁ≠â„ÅÆË∂äÂ¢É„ÉÅ„Çß„ÉÉ„ÇØ</div>
                </div>
                <span class="priority-badge badge-high">ÊúÄÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â§ñÊßãÂ∑•‰∫ã„ÅÆÂÆåÊàêÂ∫¶</div>
                    <div class="item-description">ÈñÄÊââ„ÄÅ„Éï„Çß„É≥„Çπ„ÄÅ„Ç¢„Éó„É≠„Éº„ÉÅ„ÄÅÈßêËªäÂ†¥„ÅÆ‰ªï‰∏ä„Åå„Çä</div>
                </div>
                <span class="priority-badge badge-low">Á¢∫Ë™çÊé®Â•®</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-low">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÁéÑÈñ¢„Éù„Éº„ÉÅ„ÉªÁä¨Ëµ∞„Çä</div>
                    <div class="item-description">„Çø„Ç§„É´„ÅÆÊµÆ„Åç„ÉªÂâ≤„Çå„ÄÅ„Ç≥„É≥„ÇØ„É™„Éº„Éà„ÅÆ„Å≤„Å≥Ââ≤„Çå„ÄÅÊéíÊ∞¥ÂãæÈÖç</div>
                </div>
                <span class="priority-badge badge-low">Á¢∫Ë™çÊé®Â•®</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>

        <!-- 8. „Ç™„Éó„Ç∑„Éß„É≥È†ÖÁõÆ -->
        <div class="category">
            <div class="category-header">üü° 8. „Ç™„Éó„Ç∑„Éß„É≥È†ÖÁõÆ</div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÁéÑÈñ¢Âõû„Çä„ÅÆÁÖßÊòé„Çª„É≥„Çµ„Éº</div>
                    <div class="item-description">‰∫∫ÊÑü„Çª„É≥„Çµ„Éº„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„ÄÅÊÑüÁü•ÁØÑÂõ≤„ÅÆË™øÊï¥</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÈöéÊÆµÁÖßÊòé„ÅÆÈÖçÈõªÔºà‰∏âÂèâË∑ØÔºâ</div>
                    <div class="item-description">1Èöé„Éª2Èöé„ÉªË∏ä„ÇäÂ†¥„Åß„ÅÆÁÖßÊòé„Çπ„Ç§„ÉÉ„ÉÅ„ÅÆÈÄ£ÂãïÁ¢∫Ë™ç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">ÂêÑ„Éâ„Ç¢„ÅÆÁïô„ÇÅÂÖ∑Ôºà„Ç¢„Éº„É†„ÄÅ„Éê„Éº„ÄÅÂ∫ä‰ªò„ÅëÔºâ</div>
                    <div class="item-description">„Éâ„Ç¢„Çπ„Éà„ÉÉ„Éë„ÉºÈ°û„ÅÆË®≠ÁΩÆÁ¢∫Ë™ç„Å®Âãï‰Ωú„ÉÜ„Çπ„Éà</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„ÉÜ„É¨„ÉìË£è„ÅÆ‰∏ãÂú∞</div>
                    <div class="item-description">Â£ÅÊéõ„Åë„ÉÜ„É¨„ÉìÁî®„ÅÆ‰∏ãÂú∞Ë£úÂº∑Êùê„ÅÆË®≠ÁΩÆÁ¢∫Ë™ç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">„Ç´„ÉÉ„Éó„Éú„Éº„Éâ„ÅÆÊ®™Âêë„Åç„Ç≥„É≥„Çª„É≥„ÉàË®≠ÁΩÆ</div>
                    <div class="item-description">ÊåáÂÆö„Åó„ÅüÊ®™Âêë„Åç„Ç≥„É≥„Çª„É≥„Éà„ÅÆ‰ΩçÁΩÆ„Å®Âêë„Åç„ÅÆÁ¢∫Ë™ç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">1,3Èöé„ÅÆÂ∫äÊùøÂêë„Åç</div>
                    <div class="item-description">„Éï„É≠„Éº„É™„É≥„Ç∞„ÅÆÂºµ„ÇäÊñπÂêë„ÅåÊåáÂÆöÈÄö„Çä„ÅãÁ¢∫Ë™ç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <div class="checklist-item priority-medium">
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">Â∫≠„Çπ„Éö„Éº„Çπ„ÅÆÁ†ÇÂà©ÁÑ°„Åó</div>
                    <div class="item-description">ÊåáÂÆö„Åó„ÅüÂ∫≠„Ç®„É™„Ç¢„Å´Á†ÇÂà©„ÅåÊï∑„Åã„Çå„Å¶„ÅÑ„Å™„ÅÑ„Åì„Å®„ÅÆÁ¢∫Ë™ç</div>
                </div>
                <span class="priority-badge badge-medium">ÈáçË¶Å</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            </div>
            <button class="add-custom" onclick="addCustomItem(this)">+ „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíËøΩÂä†</button>
        </div>
    </div>

    <div class="floating-stats" id="floatingStats">
        „ÉÅ„Çß„ÉÉ„ÇØÂÆå‰∫Ü: 0/31
    </div>

    <script>
        // „Éá„Éº„ÇøÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
        function saveData() {
            const data = {
                checkboxes: [],
                customItems: [],
                timestamp: new Date().toISOString(),
                version: '3.0'
            };
            
            // „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆÁä∂ÊÖã„Çí‰øùÂ≠ò
            document.querySelectorAll('input[type="checkbox"]').forEach((checkbox, index) => {
                const item = checkbox.closest('.checklist-item');
                data.checkboxes.push({
                    index: index,
                    checked: checkbox.checked,
                    itemText: item?.querySelector('.item-title')?.textContent || '',
                    isCustom: item?.classList.contains('custom-item') || false
                });
            });
            
            // „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíÂà•ÈÄî‰øùÂ≠ò
            document.querySelectorAll('.custom-item').forEach(item => {
                data.customItems.push({
                    title: item.querySelector('.item-title')?.textContent || '',
                    description: item.querySelector('.item-description')?.textContent || '',
                    priority: item.classList.contains('priority-high') ? 'high' : 
                             item.classList.contains('priority-medium') ? 'medium' : 'low',
                    categoryIndex: Array.from(document.querySelectorAll('.category')).findIndex(cat => 
                        cat.contains(item)
                    )
                });
            });
            
            localStorage.setItem('checklistData', JSON.stringify(data));
            return data;
        }
        
        function loadData() {
            const savedData = localStorage.getItem('checklistData');
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    
                    // Êó¢Â≠ò„ÅÆ„Ç´„Çπ„Çø„É†È†ÖÁõÆ„Çí„ÇØ„É™„Ç¢
                    document.querySelectorAll('.custom-item').forEach(item => item.remove());
                    
                    // „Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíÂæ©ÂÖÉ
                    if (data.customItems) {
                        data.customItems.forEach(customItem => {
                            const categories = document.querySelectorAll('.category');
                            if (categories[customItem.categoryIndex]) {
                                createCustomItemElement(
                                    customItem.title,
                                    customItem.description,
                                    customItem.priority,
                                    categories[customItem.categoryIndex]
                                );
                            }
                        });
                    }
                    
                    // „ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ„ÅÆÁä∂ÊÖã„ÇíÂæ©ÂÖÉ
                    data.checkboxes.forEach((item, index) => {
                        const checkbox = document.querySelectorAll('input[type="checkbox"]')[index];
                        if (checkbox) {
                            checkbox.checked = item.checked;
                        }
                    });
                    
                    updateProgress();
                } catch (error) {
                    console.error('„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó:', error);
                }
            }
        }
        
        // È†ÖÁõÆÂâäÈô§Ê©üËÉΩ
        function deleteItem(button) {
            const item = button.closest('.checklist-item');
            const title = item.querySelector('.item-title').textContent;
            
            if (confirm(`„Äå${title}„Äç„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü`)) {
                item.remove();
                updateProgress();
                saveData();
                showNotification('È†ÖÁõÆ„ÇíÂâäÈô§„Åó„Åæ„Åó„Åü', 'success');
            }
        }
        
        // „Éá„Éº„Çø„Ç®„ÇØ„Çπ„Éù„Éº„Éà
        function exportData() {
            const data = saveData();
            const jsonString = JSON.stringify(data, null, 2);
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(jsonString).then(() => {
                    showNotification('‚úÖ „Éá„Éº„Çø„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ', 'success');
                }).catch(() => {
                    fallbackCopy(jsonString);
                });
            } else {
                fallbackCopy(jsonString);
            }
        }
        
        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                height: 60%;
                z-index: 10000;
                background: white;
                border: 3px solid #333;
                border-radius: 10px;
                padding: 20px;
                font-family: monospace;
                font-size: 12px;
            `;
            document.body.appendChild(textarea);
            textarea.select();
            textarea.setSelectionRange(0, 99999);
            
            showNotification('üìã „ÉÜ„Ç≠„Çπ„Éà„Ç®„É™„Ç¢„ÅÆÂÜÖÂÆπ„ÇíÊâãÂãï„Åß„Ç≥„Éî„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑ', 'info');
            
            setTimeout(() => {
                if (document.body.contains(textarea)) {
                    document.body.removeChild(textarea);
                }
            }, 30000);
        }
        
        // „Éá„Éº„Çø„Ç§„É≥„Éù„Éº„Éà
        function toggleImportArea() {
            const importArea = document.getElementById('importArea');
            importArea.style.display = importArea.style.display === 'none' ? 'block' : 'none';
        }
        
        function importData() {
            const importText = document.getElementById('importData').value.trim();
            if (!importText) {
                showNotification('‚ùå „Éá„Éº„Çø„ÅåÂÖ•Âäõ„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì', 'error');
                return;
            }
            
            try {
                const data = JSON.parse(importText);
                localStorage.setItem('checklistData', importText);
                loadData();
                showNotification('‚úÖ „Éá„Éº„Çø„ÇíÊ≠£Â∏∏„Å´Ë™≠„ÅøËæº„Åø„Åæ„Åó„ÅüÔºÅ', 'success');
                document.getElementById('importArea').style.display = 'none';
                document.getElementById('importData').value = '';
            } catch (error) {
                showNotification('‚ùå „Éá„Éº„Çø„ÅÆÂΩ¢Âºè„ÅåÊ≠£„Åó„Åè„ÅÇ„Çä„Åæ„Åõ„Çì', 'error');
            }
        }
        
        // ÂÖ±ÊúâURLÁîüÊàê
        function generateShareURL() {
            const data = saveData();
            const encodedData = btoa(encodeURIComponent(JSON.stringify(data)));
            const currentURL = window.location.href.split('#')[0];
            const shareURL = `${currentURL}#data=${encodedData}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareURL).then(() => {
                    showNotification('üîó ÂÖ±ÊúâURL„Çí„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ', 'success');
                }).catch(() => {
                    showShareDialog(shareURL);
                });
            } else {
                showShareDialog(shareURL);
            }
        }
        
        function showShareDialog(url) {
            const dialog = document.createElement('div');
            dialog.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                padding: 30px;
                border-radius: 15px;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                z-index: 10000;
                max-width: 90%;
                text-align: center;
            `;
            
            dialog.innerHTML = `
                <h3>üîó ÂÖ±ÊúâURL</h3>
                <p style="margin: 15px 0; font-size: 0.9em; color: #666;">
                    „Åì„ÅÆURL„Çí‰ªñ„ÅÆ„Éá„Éê„Ç§„Çπ„ÅßÈñã„Åè„Å®„Éá„Éº„Çø„ÅåËá™ÂãïË™≠„ÅøËæº„Åø„Åï„Çå„Åæ„Åô
                </p>
                <textarea readonly style="width: 100%; height: 100px; margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 0.8em;">${url}</textarea>
                <button onclick="this.parentElement.remove()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Èñâ„Åò„Çã</button>
            `;
            
            document.body.appendChild(dialog);
            dialog.querySelector('textarea').select();
        }
        
        // URL „Åã„Çâ„Éá„Éº„Çø„ÇíËá™ÂãïË™≠„ÅøËæº„Åø
        function loadFromURL() {
            const hash = window.location.hash;
            if (hash.includes('#data=')) {
                try {
                    const encodedData = hash.split('#data=')[1];
                    const data = JSON.parse(decodeURIComponent(atob(encodedData)));
                    localStorage.setItem('checklistData', JSON.stringify(data));
                    loadData();
                    showNotification('‚úÖ ÂÖ±Êúâ„Éá„Éº„Çø„ÇíËá™ÂãïË™≠„ÅøËæº„Åø„Åó„Åæ„Åó„ÅüÔºÅ', 'success');
                    // URL„ÅÆ„Éè„ÉÉ„Ç∑„É•„Çí„ÇØ„É™„Ç¢
                    window.history.replaceState({}, document.title, window.location.pathname);
                } catch (error) {
                    console.error('URL „Åã„Çâ„ÅÆ„Éá„Éº„ÇøË™≠„ÅøËæº„Åø„Å´Â§±Êïó:', error);
                    showNotification('‚ùå ÂÖ±Êúâ„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü', 'error');
                }
            }
        }
        
        // ÈÄöÁü•„Ç∑„Çπ„ÉÜ„É†
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const colors = {
                'success': '#4CAF50',
                'error': '#f44336',
                'info': '#2196F3'
            };
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: ${colors[type]};
                color: white;
                padding: 15px 25px;
                border-radius: 25px;
                box-shadow: 0 5px 25px rgba(0,0,0,0.2);
                z-index: 10000;
                font-weight: 600;
                max-width: 90%;
                text-align: center;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 4000);
        }
        
        // ÈÄ≤ÊçóÁÆ°ÁêÜ
        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            const total = checkboxes.length;
            const completed = checked.length;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '% ÂÆå‰∫Ü';
            document.getElementById('floatingStats').textContent = `„ÉÅ„Çß„ÉÉ„ÇØÂÆå‰∫Ü: ${completed}/${total}`;
            
            // „Éá„Éº„ÇøËá™Âãï‰øùÂ≠ò
            saveData();
        }
        
        // „Ç´„Çπ„Çø„É†È†ÖÁõÆËøΩÂä†
        function addCustomItem(button) {
            const input = document.createElement('input');
            input.type = 'text';
            input.className = 'custom-input';
            input.placeholder = '„Ç´„Çπ„Çø„É†È†ÖÁõÆ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...';
            
            const descInput = document.createElement('input');
            descInput.type = 'text';
            descInput.className = 'custom-input';
            descInput.placeholder = 'Ë©≥Á¥∞Ë™¨Êòé„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...';
            descInput.style.marginTop = '5px';
            
            const prioritySelect = document.createElement('select');
            prioritySelect.className = 'custom-input';
            prioritySelect.style.marginTop = '10px';
            prioritySelect.innerHTML = `
                <option value="high">üî¥ ÊúÄÈáçË¶Å</option>
                <option value="medium">üü° ÈáçË¶Å</option>
                <option value="low">üü¢ Á¢∫Ë™çÊé®Â•®</option>
            `;
            
            const addButton = document.createElement('button');
            addButton.textContent = 'ËøΩÂä†';
            addButton.className = 'sync-button';
            addButton.style.margin = '10px 20px';
            addButton.onclick = () => {
                if (input.value.trim()) {
                    createCustomItemElement(
                        input.value.trim(),
                        descInput.value.trim() || '„Ç´„Çπ„Çø„É†È†ÖÁõÆ„Åß„Åô',
                        prioritySelect.value,
                        button.parentNode
                    );
                    input.remove();
                    descInput.remove();
                    prioritySelect.remove();
                    addButton.remove();
                    updateProgress();
                }
            };
            
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    descInput.focus();
                }
            });
            
            descInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addButton.click();
                }
            });
            
            button.parentNode.insertBefore(input, button);
            button.parentNode.insertBefore(descInput, button);
            button.parentNode.insertBefore(prioritySelect, button);
            button.parentNode.insertBefore(addButton, button);
            input.focus();
        }
        
        function createCustomItemElement(title, description, priority, container) {
            const item = document.createElement('div');
            item.className = `checklist-item priority-${priority} custom-item`;
            
            const badgeText = priority === 'high' ? 'ÊúÄÈáçË¶Å' : priority === 'medium' ? 'ÈáçË¶Å' : 'Á¢∫Ë™çÊé®Â•®';
            const badgeClass = `badge-${priority}`;
            
            item.innerHTML = `
                <div class="checkbox-wrapper">
                    <input type="checkbox" onchange="updateProgress()">
                </div>
                <div class="item-content">
                    <div class="item-title">${title}</div>
                    <div class="item-description">${description}</div>
                </div>
                <span class="priority-badge ${badgeClass}">${badgeText}</span>
                <button class="delete-button" onclick="deleteItem(this)" title="È†ÖÁõÆ„ÇíÂâäÈô§">√ó</button>
            `;
            
            const addButton = container.querySelector('.add-custom');
            container.insertBefore(item, addButton);
        }
        
        // ÂàùÊúüÂåñ
        window.addEventListener('load', () => {
            loadFromURL();
            loadData();
            updateProgress();
        });
    </script>
</body>
</html>
